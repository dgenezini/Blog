<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Using CancellationToken to be notified of requests abandoned by clients"><title>Canceling abandoned requests in ASP.NET Core</title><link rel=canonical href=https://blog.genezini.com/p/canceling-abandoned-requests-in-asp.net-core/><link rel=alternate href=https://blog.genezini.com/ hreflang=x-default><link rel=stylesheet href=/scss/style.min.e3e9c075987ec9abe7be9200a4fe17175980754b0c822a22c3165916d315251e.css><meta property="og:title" content="Canceling abandoned requests in ASP.NET Core"><meta property="og:description" content="Using CancellationToken to be notified of requests abandoned by clients"><meta property="og:url" content="https://blog.genezini.com/p/canceling-abandoned-requests-in-asp.net-core/"><meta property="og:site_name" content="Daniel Genezini | It works on my machine"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="C#"><meta property="article:tag" content="dotnet"><meta property="article:tag" content="ASP.NET Core"><meta property="article:tag" content="CancellationToken"><meta property="article:published_time" content="2022-12-12T07:30:00-03:00"><meta property="article:modified_time" content="2022-12-12T07:30:00-03:00"><meta property="og:image" content="https://blog.genezini.com/p/canceling-abandoned-requests-in-asp.net-core/cover.jpg"><meta name=twitter:title content="Canceling abandoned requests in ASP.NET Core"><meta name=twitter:description content="Using CancellationToken to be notified of requests abandoned by clients"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.genezini.com/p/canceling-abandoned-requests-in-asp.net-core/cover.jpg"><script async src="https://www.googletagmanager.com/gtag/js?id=G-029SLZEC4C"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-029SLZEC4C",{anonymize_ip:!1})}</script><script async defer data-website-id=05387238-0856-4199-8d28-696e4a1d7322 src=https://sparkling-pixie-afead0.netlify.app/tomato.js></script></head><body class="article-page
//"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><div class=site-meta><h1 class=site-name><a href=/>It works on my machine</a></h1></div><figure class=site-avatar><a href=/><img src=/img/avatar_hu793066471163999a4414bfb3be66f111_30130_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><span class=site-name>Daniel Genezini</span></header><ol class=social-menu><li><a class=umami--click--socialmenu-GitHub href=https://github.com/dgenezini/ target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a class=umami--click--socialmenu-Linkedin href=https://www.linkedin.com/in/danielgenezini/ target=_blank title=Linkedin><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="4" width="16" height="16" rx="2"/><line x1="8" y1="11" x2="8" y2="16"/><line x1="8" y1="8" x2="8" y2="8.01"/><line x1="12" y1="16" x2="12" y2="11"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg></a></li><li><a class=umami--click--socialmenu-Mastodon href=https://mastodon.world/@danielgenezini target=_blank title=Mastodon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mastodon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18.648 15.254C16.832 17.017 12 16.88 12 16.88a18.262 18.262.0 01-3.288-.256c1.127 1.985 4.12 2.81 8.982 2.475-1.945 2.013-13.598 5.257-13.668-7.636L4 10.309c0-3.036.023-4.115 1.352-5.633C7.023 2.766 12 3.01 12 3.01s4.977-.243 6.648 1.667C19.977 6.195 20 7.274 20 10.31s-.456 4.074-1.352 4.944z"/><path d="M12 11.204V8.278C12 7.02 11.105 6 10 6S8 7.02 8 8.278V13m4-4.722C12 7.02 12.895 6 14 6s2 1.02 2 2.278V13"/></svg></a></li><li><a class=umami--click--socialmenu-Twitter href=https://twitter.com/GeneziniDaniel target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/follow-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg><span>Follow me</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/canceling-abandoned-requests-in-asp.net-core/><img src=/p/canceling-abandoned-requests-in-asp.net-core/cover.jpg width=1500 height=1000 loading=lazy alt="Featured image of post Canceling abandoned requests in ASP.NET Core"></a></div><div class=picture-credits><a href="https://unsplash.com/photos/oEr5iVWHwSA?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target=_blank>Picture by Bruno Guerrero</a></div><div class=article-details><header class=article-category><a href=/categories/dotnet/ class=umami--click--categories-header--categories-dotnet->.NET</a>
<a href=/categories/asp.net-core/ class=umami--click--categories-header--categories-asp-net-core->ASP.NET Core</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/canceling-abandoned-requests-in-asp.net-core/>Canceling abandoned requests in ASP.NET Core</a></h2><h3 class=article-subtitle>Using CancellationToken to be notified of requests abandoned by clients</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>12 Dec 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>7 minute read</time>
<a href=/follow-me/ aria-label="Follow me"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg><span>Follow me</span></a>
<a data-pocket-label=pocket data-save-url=https://blog.genezini.com/p/canceling-abandoned-requests-in-asp.net-core/ data-pocket-count=none class=pocket-btn data-lang=en></a>
<script type=text/javascript>!function(e,t){if(!e.getElementById(t)){var s,n=e.createElement("script");n.id=t,n.src="https://widgets.getpocket.com/v1/j/btn.js?v=1",s=e.getElementById(t),e.body.appendChild(n)}}(document,"pocket-btn-js")</script></div></footer></div></header><section class=article-content><h2 id=introduction>Introduction <a href=#introduction class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>When a client makes an HTTP request, the client can abort the request, leaving the server processing if it&rsquo;s not prepared to handle this scenario; wasting its resources that could be used to process other jobs.</p><p>In this post, I&rsquo;ll show how to use Cancellation Tokens to cancel running requests that were aborted by clients.</p><h2 id=cancelation-tokens>Cancelation Tokens <a href=#cancelation-tokens class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>I&rsquo;ll not explain how Cancelation Tokens work in this post. I recommend reading this great <a class=link href=https://mitesh1612.github.io/blog/2022/01/20/cancellation-tokens target=_blank rel=noopener>post by Mitesh Shah</a> that explains how they work in a simple way.</p><h2 id=aborted-requests>Aborted requests <a href=#aborted-requests class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>There are two main scenarios why requests are aborted by the client:</p><ul><li><p>When loading a page on the browser, a user may click on the stop button to abort the request, or click the refresh button to reload the page.</p></li><li><p>When a time-out occurs in the client side. A time-out happens when the time that the client is willing to wait for the response expires. When it happens, the client abandons the request and returns and error. It&rsquo;s a good practice to have a time-out configured on the client side when making a request through the network, so it doesn&rsquo;t hang for a long time when the server takes a long time to respond.</p></li></ul><h2 id=why-stop-processing-abandoned-requests-on-the-server>Why stop processing abandoned requests on the server? <a href=#why-stop-processing-abandoned-requests-on-the-server class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>First, it&rsquo;s a waste of resources. Memory and CPU that could be used to process other requests are used to process a request that was already discarded by the client. This waste of resources extends to dependencies, like databases and APIs that the system consumes.</p><p>Second, the abandoned request may slow down other requests, competing for shared resources, like database tables.</p><blockquote><p>üö® Be careful what requests you cancel. It may not be a good idea to abort a request that makes changes to the state of the system, even if the requests are idempotent, as it can make the state inconsistent. It may be better to let the request finish.</p></blockquote><blockquote><p>Here are good practices when using Cancellation Tokens. (Extracted from <a class=link href=https://devblogs.microsoft.com/premier-developer/recommended-patterns-for-cancellationtoken/ target=_blank rel=noopener>Andrew Arnott&rsquo;s post</a>):</p><p>1 - <strong>Know when you‚Äôve passed the point of no cancellation.</strong>¬†Don‚Äôt cancel if you‚Äôve already incurred side-effects that your method isn‚Äôt prepared to revert on the way out that would leave you in an inconsistent state. So if you‚Äôve done some work, and have a lot more to do, and the token is cancelled, you must only cancel when and if you can do so leaving¬†objects in a valid state.¬†This may mean that you have to finish the large amount of work, or undo all your previous work (i.e. revert the side-effects), or find a convenient place that you can stop halfway through but in a valid condition,¬†before then throwing OperationCanceledException. In other words, the caller must be able to recover to a known consistent state after cancelling your work, or realize that cancellation was not responded to and that the caller then must decide whether to accept the work, or revert its successful completion on its own.</p><p>2 - <strong>Propagate your CancellationToken</strong> to all the methods you call that accept one, except after the ‚Äúpoint of no cancellation‚Äù referred to in the previous point. In fact if your method mostly orchestrates calls to other methods that themselves take CancellationTokens, you may find that you don‚Äôt personally have to call CancellationToken.ThrowIfCancellationRequested() at all, since the async methods you‚Äôre calling will generally do it for you.</p><p>3 - <strong>Don‚Äôt¬†throw OperationCanceledException¬†after you‚Äôve completed the work</strong>, just because the token was signaled. Return a successful result and let the caller decide what to do next. The caller can‚Äôt assume you‚Äôre cancellable at a given point anyway so they have to be prepared for a successful result even upon cancellation.</p><p>4 - <strong>Input validation</strong> can certainly go ahead of cancellation checks (since that helps highlight bugs in the calling code).</p><p>5 - <strong>Consider not checking the token at all</strong> if your work is very quick, or you propagate it to the methods you call. That said, calling CancellationToken.ThrowIfCancellationRequested() is pretty lightweight so don‚Äôt think too hard about this one unless you see it on perf traces.</p><p>6 - <strong>Check CancellationToken.CanBeCanceled</strong> when you can do your work more efficiently if you can assume you‚Äôll never be canceled. CanBeCanceled returns false for CancellationToken.None, and in the future possibly for other cases as well.</p></blockquote><h2 id=canceling-the-requests-on-aspnet-core>Canceling the requests on ASP.NET Core <a href=#canceling-the-requests-on-aspnet-core class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>1 - Add an <code>CancellationToken</code> object as a parameter in the Controller method. ASP.NET will provide the object through <a class=link href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-7.0" target=_blank rel=noopener>model binding</a> for us.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[ApiController]</span>
</span></span><span class=line><span class=cl><span class=na>[Route(&#34;[controller]</span><span class=s>&#34;)]
</span></span></span><span class=line><span class=cl><span class=s></span><span class=k>public</span> <span class=k>class</span> <span class=nc>DogImageController</span> <span class=p>:</span> <span class=n>ControllerBase</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>readonly</span> <span class=n>IDogImageUseCase</span> <span class=n>_dogImageUseCase</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>readonly</span> <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>DogImageController</span><span class=p>&gt;</span> <span class=n>_logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>DogImageController</span><span class=p>(</span><span class=n>IDogImageUseCase</span> <span class=n>dogImageUseCase</span><span class=p>,</span> <span class=n>ILogger</span><span class=p>&lt;</span><span class=n>DogImageController</span><span class=p>&gt;</span> <span class=n>logger</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>_dogImageUseCase</span> <span class=p>=</span> <span class=n>dogImageUseCase</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>_logger</span> <span class=p>=</span> <span class=n>logger</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [HttpGet]</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>async</span> <span class=n>Task</span><span class=p>&lt;</span><span class=n>ActionResult</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;&gt;</span> <span class=n>GetAsync</span><span class=p>(</span><span class=n>CancellationToken</span> <span class=n>cancellationToken</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=k>await</span> <span class=n>_dogImageUseCase</span><span class=p>.</span><span class=n>GetRandomDogImage</span><span class=p>(</span><span class=n>cancellationToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>catch</span><span class=p>(</span><span class=n>TaskCanceledException</span> <span class=n>ex</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>_logger</span><span class=p>.</span><span class=n>LogError</span><span class=p>(</span><span class=n>ex</span><span class=p>,</span> <span class=n>ex</span><span class=p>.</span><span class=n>Message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>StatusCode</span><span class=p>(</span><span class=n>StatusCodes</span><span class=p>.</span><span class=n>Status500InternalServerError</span><span class=p>,</span> <span class=s>&#34;Request cancelled&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>2 - Pass the <code>CancellationToken</code> down to all async methods in your code.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>DogImageUseCase</span><span class=p>:</span> <span class=n>IDogImageUseCase</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>readonly</span> <span class=n>IDogApi</span> <span class=n>_dogApi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>DogImageUseCase</span><span class=p>(</span><span class=n>IDogApi</span> <span class=n>dogApi</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>_dogApi</span> <span class=p>=</span> <span class=n>dogApi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>async</span> <span class=n>Task</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;</span> <span class=n>GetRandomDogImage</span><span class=p>(</span><span class=n>CancellationToken</span> <span class=n>cancellationToken</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>var</span> <span class=n>dog</span> <span class=p>=</span> <span class=k>await</span> <span class=n>_dogApi</span><span class=p>.</span><span class=n>GetRandomDog</span><span class=p>(</span><span class=n>cancellationToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dog</span><span class=p>.</span><span class=n>message</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>3 - The CancellationToken will throw an <code>TaskCanceledException</code> when the request is aborted. It&rsquo;s important to log this error to measure how much it is happening.</p><h2 id=cancellationtoken-with-refit>CancellationToken with Refit <a href=#cancellationtoken-with-refit class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>Refit is a .NET library that facilitates consuming REST APIs. It generates a typed client based on an interface. <a class=link href=https://code-maze.com/using-refit-to-consume-apis-in-csharp/ target=_blank rel=noopener>More details here</a>.</p><p>To pass a <code>CancellationToken</code> to a Refit client as in the example above, just insert a <code>CancellationToken</code> parameter in the interface:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>public</span> <span class=k>interface</span> <span class=nc>IDogApi</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [Get(&#34;/breeds/image/random&#34;)]</span>
</span></span><span class=line><span class=cl>    <span class=n>Task</span><span class=p>&lt;</span><span class=n>Dog</span><span class=p>&gt;</span> <span class=n>GetRandomDog</span><span class=p>(</span><span class=n>CancellationToken</span> <span class=n>cancellationToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>‚ö†Ô∏è By convention, the <code>CancellationToken</code> should be the last parameter in the method. There is even a static analyzer for this rule (<a class=link href=https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/ca1068 target=_blank rel=noopener>CA1068: CancellationToken parameters must come last</a>). More on static analyzers <a class=link href=/p/enforcing-.net-code-style-rules-at-compile-time/>in this post</a>.</p></blockquote><h2 id=testing-the-solution>Testing the solution <a href=#testing-the-solution class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><p>We can manually test if the solution works by inserting a delay in our code and making a request through the browser to the <code>/DogImage</code> route.</p><p>1 - Insert a 2 minute delay so we have time to stop the request on the client side. It&rsquo;s required to also pass the <code>CancellationToken</code> to the <code>Delay</code> method so it can exit on a request cancellation:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>DogImageUseCase</span><span class=p>:</span> <span class=n>IDogImageUseCase</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>readonly</span> <span class=n>IDogApi</span> <span class=n>_dogApi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>DogImageUseCase</span><span class=p>(</span><span class=n>IDogApi</span> <span class=n>dogApi</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>_dogApi</span> <span class=p>=</span> <span class=n>dogApi</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>async</span> <span class=n>Task</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;</span> <span class=n>GetRandomDogImage</span><span class=p>(</span><span class=n>CancellationToken</span> <span class=n>cancellationToken</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>var</span> <span class=n>dog</span> <span class=p>=</span> <span class=k>await</span> <span class=n>_dogApi</span><span class=p>.</span><span class=n>GetRandomDog</span><span class=p>(</span><span class=n>cancellationToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>await</span> <span class=n>Task</span><span class=p>.</span><span class=n>Delay</span><span class=p>(</span><span class=n>TimeSpan</span><span class=p>.</span><span class=n>FromMinutes</span><span class=p>(</span><span class=m>2</span><span class=p>),</span> <span class=n>cancellationToken</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>dog</span><span class=p>.</span><span class=n>message</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>2 - Insert a breakpoint inside the catch <code>TaskCanceledException</code> block;</p><p>3 - Run the application and open the route URL in the browser (in this example, <code>/DogImage</code>);</p><p>4 - Hit the browser&rsquo;s stop button or press the <code>esc</code> key.</p><p>We will hit the breakpoint, confirming the solution is working.</p><p><img src=/p/canceling-abandoned-requests-in-asp.net-core/images/debugging.gif width=1015 height=476 loading=lazy alt="Testing the solution" class=gallery-image data-flex-grow=213 data-flex-basis=511px></p><h2 id=problems-with-this-solution>Problems with this solution <a href=#problems-with-this-solution class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><ul><li>AWS API Gateway has a time-out but it does not report the time-out event to the underlying AWS lambda function. If a time-out occurs at the API Gateway, the users will receive a time-out error but the metrics and logs won&rsquo;t show those errors, making it seem like no problems are happening.</li><li>Some HTTP Client libraries (for example, Python <code>requests</code> and Go <code>net/http</code>) don&rsquo;t have a default timeout, if the consumer doesn&rsquo;t set one, it will wait indefinitely for the server response. This may leave the server processing for a long time in case of a bug, for example.</li></ul><p>In <a class=link href=/p/time-out-requests-in-asp.net-core-with-cancellation-tokens/>this post</a>, I explain a complementary solution that mitigates the problems above.</p><h2 id=references-and-links>References and links <a href=#references-and-links class=header-link arialabel=Anchor><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Link to this section</title><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></a></h2><ul><li><a class=link href=https://learn.microsoft.com/en-us/dotnet/standard/threading/cancellation-in-managed-threads target=_blank rel=noopener>Microsoft&rsquo;s CancellationToken Documentation</a></li><li><a class=link href="https://learn.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-7.0" target=_blank rel=noopener>ASP.NET Core&rsquo;s Model Binding</a></li><li><a class=link href=https://mitesh1612.github.io/blog/2022/01/20/cancellation-tokens target=_blank rel=noopener>A Deep Dive into C#‚Äôs CancellationToken</a></li></ul></section><footer class=article-footer><style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:0 .5em .5em 0}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:top}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#d43b03}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#bb3200}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#d43b03;border-color:#bb3200}.resp-sharing-button--feedly{background-color:#2bb24c}.resp-sharing-button--feedly:hover{background-color:#249440}.resp-sharing-button--feedly{background-color:#2bb24c;border-color:#2bb24c}.resp-sharing-button--feedly:hover,.resp-sharing-button--feedly:active{background-color:#249440;border-color:#249440}.resp-sharing-button--rss{background-color:#f26522}.resp-sharing-button--rss:hover{background-color:#cc541d}.resp-sharing-button--rss{background-color:#f26522;border-color:#f26522}.resp-sharing-button--rss:hover,.resp-sharing-button--rss:active{background-color:#cc541d;border-color:#cc541d}.resp-sharing-button--mastodon{background-color:#6364ff}.resp-sharing-button--mastodon:hover{background-color:#4646cc}.resp-sharing-button--mastodon{background-color:#6364ff;border-color:#6364ff}.resp-sharing-button--mastodon:hover,.resp-sharing-button--mastodon:active{background-color:#4646cc;border-color:#4646cc}.share-on-title{display:block;font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em;margin-inline-start:0;margin-inline-end:0;font-weight:700;color:var(--card-text-color-main)}</style><span class=share-on-title>Follow me</span><div><a class=resp-sharing-button__link href=https://feedly.com/i/subscription/feed/https://blog.genezini.com/index.xml target=_blank value=Subscribe aria-label=Subscribe><div class="resp-sharing-button resp-sharing-button--feedly resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></div>Feedly</div></a><a class=resp-sharing-button__link href=/index.xml target=_blank value=Subscribe aria-label=Subscribe><div class="resp-sharing-button resp-sharing-button--rss resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></div>RSS</div></a><a class=resp-sharing-button__link href=https://twitter.com/GeneziniDaniel target=_blank rel=noopener aria-label=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div>Twitter</div></a><a class=resp-sharing-button__link href=https://www.linkedin.com/in/danielgenezini/ target=_blank rel=noopener aria-label=LinkedIn><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div>LinkedIn</div></a><a class=resp-sharing-button__link href=https://mastodon.world/@danielgenezini target=_blank rel=noopener aria-label=Mastodon><div class="resp-sharing-button resp-sharing-button--mastodon resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-mastodon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18.648 15.254C16.832 17.017 12 16.88 12 16.88a18.262 18.262.0 01-3.288-.256c1.127 1.985 4.12 2.81 8.982 2.475-1.945 2.013-13.598 5.257-13.668-7.636L4 10.309c0-3.036.023-4.115 1.352-5.633C7.023 2.766 12 3.01 12 3.01s4.977-.243 6.648 1.667C19.977 6.195 20 7.274 20 10.31s-.456 4.074-1.352 4.944z"/><path d="M12 11.204V8.278C12 7.02 11.105 6 10 6S8 7.02 8 8.278V13m4-4.722C12 7.02 12.895 6 14 6s2 1.02 2 2.278V13"/></svg></div>Mastodon</div></a></div><style>.resp-sharing-button__link,.resp-sharing-button__icon{display:inline-block}.resp-sharing-button__link{text-decoration:none;color:#fff;margin:0 .5em .5em 0}.resp-sharing-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-sharing-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:top}.resp-sharing-button--small svg{margin:0;vertical-align:middle}.resp-sharing-button__icon{stroke:#fff;fill:none}.resp-sharing-button__icon--solid,.resp-sharing-button__icon--solidcircle{fill:#fff;stroke:none}.resp-sharing-button--twitter{background-color:#55acee}.resp-sharing-button--twitter:hover{background-color:#2795e9}.resp-sharing-button--pinterest{background-color:#bd081c}.resp-sharing-button--pinterest:hover{background-color:#8c0615}.resp-sharing-button--facebook{background-color:#3b5998}.resp-sharing-button--facebook:hover{background-color:#2d4373}.resp-sharing-button--tumblr{background-color:#35465c}.resp-sharing-button--tumblr:hover{background-color:#222d3c}.resp-sharing-button--reddit{background-color:#ff4500}.resp-sharing-button--reddit:hover{background-color:#d43b03}.resp-sharing-button--google{background-color:#dd4b39}.resp-sharing-button--google:hover{background-color:#c23321}.resp-sharing-button--linkedin{background-color:#0077b5}.resp-sharing-button--linkedin:hover{background-color:#046293}.resp-sharing-button--email{background-color:#777}.resp-sharing-button--email:hover{background-color:#5e5e5e}.resp-sharing-button--xing{background-color:#1a7576}.resp-sharing-button--xing:hover{background-color:#114c4c}.resp-sharing-button--whatsapp{background-color:#25d366}.resp-sharing-button--whatsapp:hover{background-color:#1da851}.resp-sharing-button--hackernews{background-color:#f60}.resp-sharing-button--hackernews:hover,.resp-sharing-button--hackernews:focus{background-color:#fb6200}.resp-sharing-button--vk{background-color:#507299}.resp-sharing-button--vk:hover{background-color:#43648c}.resp-sharing-button--facebook{background-color:#3b5998;border-color:#3b5998}.resp-sharing-button--facebook:hover,.resp-sharing-button--facebook:active{background-color:#2d4373;border-color:#2d4373}.resp-sharing-button--twitter{background-color:#55acee;border-color:#55acee}.resp-sharing-button--twitter:hover,.resp-sharing-button--twitter:active{background-color:#2795e9;border-color:#2795e9}.resp-sharing-button--tumblr{background-color:#35465c;border-color:#35465c}.resp-sharing-button--tumblr:hover,.resp-sharing-button--tumblr:active{background-color:#222d3c;border-color:#222d3c}.resp-sharing-button--email{background-color:#777;border-color:#777}.resp-sharing-button--email:hover,.resp-sharing-button--email:active{background-color:#5e5e5e;border-color:#5e5e5e}.resp-sharing-button--pinterest{background-color:#bd081c;border-color:#bd081c}.resp-sharing-button--pinterest:hover,.resp-sharing-button--pinterest:active{background-color:#8c0615;border-color:#8c0615}.resp-sharing-button--linkedin{background-color:#0077b5;border-color:#0077b5}.resp-sharing-button--linkedin:hover,.resp-sharing-button--linkedin:active{background-color:#046293;border-color:#046293}.resp-sharing-button--reddit{background-color:#ff4500;border-color:#bb3200}.resp-sharing-button--reddit:hover,.resp-sharing-button--reddit:active{background-color:#d43b03;border-color:#bb3200}.share-on-title{display:block;font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em;margin-inline-start:0;margin-inline-end:0;font-weight:700;color:var(--card-text-color-main)}</style><span class=share-on-title>Share on</span><div><a class="resp-sharing-button__link umami--click--share-facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f" target=_blank rel=noopener aria-label=Facebook><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg></div>Facebook</div></a><a class="resp-sharing-button__link umami--click--share-twitter" href="https://twitter.com/intent/tweet/?text=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;url=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f" target=_blank rel=noopener aria-label=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5.0-4.55 2.04-4.55 4.54.0.36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3.0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35.0 12.92-6.92 12.92-12.93.0-.2.0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div>Twitter</div></a><a class="resp-sharing-button__link umami--click--share-tumblr" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;caption=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;content=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;canonicalUrl=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;shareSource=tumblr_share_button" target=_blank rel=noopener aria-label=Tumblr><div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13.5.5v5h5v4h-5V15c0 5 3.5 4.4 6 2.8v4.4c-6.7 3.2-12 0-12-4.2V9.5h-3V6.7c1-.3 2.2-.7 3-1.3.5-.5 1-1.2 1.4-2 .3-.7.6-1.7.7-3h3.8z"/></svg></div>Tumblr</div></a><a class="resp-sharing-button__link umami--click--share-email" href="mailto:?subject=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;body=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f" target=_self rel=noopener aria-label=E-Mail><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9.0 6v12c0 1.1.9 2 2 2h20c1.1.0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17.0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1.0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08.0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg></div>E-Mail</div></a><a class="resp-sharing-button__link umami--click--share-pinterest" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;media=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;description=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core" target=_blank rel=noopener aria-label=Pinterest><div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12.14.5C5.86.5 2.7 5 2.7 8.75c0 2.27.86 4.3 2.7 5.05.3.12.57.0.66-.33l.27-1.06c.1-.32.06-.44-.2-.73-.52-.62-.86-1.44-.86-2.6.0-3.33 2.5-6.32 6.5-6.32 3.55.0 5.5 2.17 5.5 5.07.0 3.8-1.7 7.02-4.2 7.02-1.37.0-2.4-1.14-2.07-2.54.4-1.68 1.16-3.48 1.16-4.7.0-1.07-.58-1.98-1.78-1.98-1.4.0-2.55 1.47-2.55 3.42.0 1.25.43 2.1.43 2.1l-1.7 7.2c-.5 2.13-.08 4.75-.04 5 .02.17.22.2.3.1.14-.18 1.82-2.26 2.4-4.33.16-.58.93-3.63.93-3.63.45.88 1.8 1.65 3.22 1.65 4.25.0 7.13-3.87 7.13-9.05C20.5 4.15 17.18.5 12.14.5z"/></svg></div>Pinterest</div></a><a class="resp-sharing-button__link umami--click--share-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;title=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;summary=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core&amp;source=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f" target=_blank rel=noopener aria-label=LinkedIn><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6.0 2.5 1 2.6 2.5.0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div>LinkedIn</div></a><a class="resp-sharing-button__link umami--click--share-reddit" href="https://reddit.com/submit/?url=https%3a%2f%2fblog.genezini.com%2fp%2fcanceling-abandoned-requests-in-asp.net-core%2f&amp;resubmit=true&amp;title=Canceling%20abandoned%20requests%20in%20ASP.NET%20Core" target=_blank rel=noopener aria-label=Reddit><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96.0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65.0 3-1.35 3-3s-1.35-3-3-3c-1.38.0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65.0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66.0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64.0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4.0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6.0.23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1.0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg></div>Reddit</div></a></div><style>.resp-subscribe-button__link,.resp-subscribe-button__icon{display:inline-block}.resp-subscribe-button__link{text-decoration:none;color:#fff;margin:0 .5em .5em 0}.resp-subscribe-button{border-radius:5px;transition:25ms ease-out;padding:.5em .75em;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.resp-subscribe-button__icon svg{width:1em;height:1em;margin-right:.4em;vertical-align:top}.resp-subscribe-button--small svg{margin:0;vertical-align:middle}.resp-subscribe-button__icon{stroke:#fff;fill:none}.resp-subscribe-button__icon--solid,.resp-subscribe-button__icon--solidcircle{fill:#fff;stroke:none}.resp-subscribe-button--coffee{background-color:#d9534f}.resp-subscribe-button--coffee:hover{background-color:#c0312c}.resp-subscribe-button--coffee{background-color:#d9534f;border-color:#d9534f}.resp-subscribe-button--coffee:hover,.resp-subscribe-button--coffee:active{background-color:#c0312c;border-color:#c0312c}.resp-subscribe-button--github{background-color:#3b3b3b}.resp-subscribe-button--github:hover{background-color:#292929}.resp-subscribe-button--github{background-color:#3b3b3b;border-color:#3b3b3b}.resp-subscribe-button--github:hover,.resp-subscribe-button--github:active{background-color:#292929;border-color:#292929}.subscribe-title{display:block;font-size:1.5em;margin-block-start:.83em;margin-block-end:.83em;margin-inline-start:0;margin-inline-end:0;font-weight:700;color:var(--card-text-color-main)}</style><span class=subscribe-title>Support me</span><div><a class=resp-subscribe-button__link href=https://ko-fi.com/genezini target=_blank value="‚òï Ko-fi" aria-label="‚òï Ko-fi"><div class="resp-subscribe-button resp-subscribe-button--coffee resp-subscribe-button--medium"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mug" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4.083 5h10.834A1.08 1.08.0 0116 6.077v8.615C16 17.072 14.06 19 11.667 19H7.333C4.94 19 3 17.071 3 14.692V6.077A1.08 1.08.0 014.083 5"/><path d="M16 8h2.5c1.38.0 2.5 1.045 2.5 2.333v2.334C21 13.955 19.88 15 18.5 15H16"/></svg>Ko-fi</div></a><a class=resp-subscribe-button__link href=https://github.com/sponsors/dgenezini/ target=_blank value="GitHub Sponsor" aria-label="GitHub Sponsor"><div class="resp-subscribe-button resp-subscribe-button--github resp-subscribe-button--medium"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>GitHub Sponsor</div></a></div><span class=subscribe-title>Tags</span><section class=article-tags><a href=/tags/c-sharp/ class=umami--click--tags-bottom--tags-c-sharp->C#</a>
<a href=/tags/dotnet/ class=umami--click--tags-bottom--tags-dotnet->.NET</a>
<a href=/tags/asp.net-core/ class=umami--click--tags-bottom--tags-asp-net-core->ASP.NET Core</a>
<a href=/tags/cancellationtoken/ class=umami--click--tags-bottom--tags-cancellationtoken->CancellationToken</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/time-out-requests-in-asp.net-core-with-cancellation-tokens/ class=umami--click--related-bottom-time-out-requests-in-aspnet-core-with-cancellation-tokens-><div class=article-image><img src=/p/time-out-requests-in-asp.net-core-with-cancellation-tokens/cover.917278d7f3e320f77160793c96e6af51.jpg width=1500 height=1000 loading=lazy alt="Featured image of post Time-out requests in ASP.NET Core with cancellation tokens" data-hash="md5-kXJ41/PjIPdxYHk8luavUQ=="></div><div class=article-details><h2 class=article-title>Time-out requests in ASP.NET Core with cancellation tokens</h2></div></a></article><article class=has-image><a href=/p/why-my-wiremock-mocks-arent-working/ class=umami--click--related-bottom-why-my-wiremock-mocks-arent-working-><div class=article-image><img src=/p/why-my-wiremock-mocks-arent-working/cover.f70813e54c76069272ea9d6978241d4d.jpg width=800 height=533 loading=lazy alt="Featured image of post Why my WireMock mocks aren't working?" data-hash="md5-9wgT5Ux2BpJy6p1peCQdTQ=="></div><div class=article-details><h2 class=article-title>Why my WireMock mocks aren't working?</h2></div></a></article><article class=has-image><a href=/p/integration-tests-without-api-dependencies-with-asp.net-core-and-wiremock.net/ class=umami--click--related-bottom-integration-tests-without-api-dependencies-with-aspnet-core-and-wiremocknet-><div class=article-image><img src=/p/integration-tests-without-api-dependencies-with-asp.net-core-and-wiremock.net/cover.8ef585ee0207271aef85e7771afce426.jpg width=800 height=534 loading=lazy alt="Featured image of post Integration tests without API dependencies with ASP.NET Core and WireMock.Net" data-hash="md5-jvWF7gIHJxrvhed3GvzkJg=="></div><div class=article-details><h2 class=article-title>Integration tests without API dependencies with ASP.NET Core and WireMock.Net</h2></div></a></article><article class=has-image><a href=/p/dont-box-your-logs/ class=umami--click--related-bottom-dont-box-your-logs-><div class=article-image><img src=/p/dont-box-your-logs/cover.f8912ad9a94817b1139e3715dbc96bc0.jpg width=800 height=600 loading=lazy alt="Featured image of post Don't box your logs" data-hash="md5-+JEq2alIF7ETnjcV28lrwA=="></div><div class=article-details><h2 class=article-title>Don't box your logs</h2></div></a></article><article class=has-image><a href=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/ class=umami--click--related-bottom-dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets-><div class=article-image><img src=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/cover.915aca9e18506ac916e33a526f46e8e6.jpg width=1000 height=621 loading=lazy alt="Featured image of post .NET and AWS S3 with LocalStack: How to develop with local S3 buckets" data-key=dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets data-hash="md5-kVrKnhhQaskW4zpSb0bo5g=="></div><div class=article-details><h2 class=article-title>.NET and AWS S3 with LocalStack: How to develop with local S3 buckets</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2022 -
2023 Daniel Genezini | It works on my machine</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.13.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><h2 class="widget-title section-title">Related content</h2><div class=article-list--mini><article><a href=/p/time-out-requests-in-asp.net-core-with-cancellation-tokens/ class=umami--click--related-side-time-out-requests-in-asp-net-core-with-cancellation-tokens-><div class=article-details><h2 class=article-title>Time-out requests in ASP.NET Core with cancellation tokens</h2><footer class=article-time><time datetime=2022-12-20T06:45:00-03:00>20 Dec 2022</time></footer></div><div class=article-image><img src=/p/time-out-requests-in-asp.net-core-with-cancellation-tokens/cover.jpg width=1500 height=1000 alt="Time-out requests in ASP.NET Core with cancellation tokens" loading=lazy></div></a></article><article><a href=/p/why-my-wiremock-mocks-arent-working/ class=umami--click--related-side-why-my-wiremock-mocks-arent-working-><div class=article-details><h2 class=article-title>Why my WireMock mocks aren't working?</h2><footer class=article-time><time datetime=2023-04-11T08:00:00-03:00>11 Apr 2023</time></footer></div><div class=article-image><img src=/p/why-my-wiremock-mocks-arent-working/cover.jpg width=800 height=533 alt="Why my WireMock mocks aren't working?" loading=lazy></div></a></article><article><a href=/p/integration-tests-without-api-dependencies-with-asp.net-core-and-wiremock.net/ class=umami--click--related-side-integration-tests-without-api-dependencies-with-asp-net-core-and-wiremock-net-><div class=article-details><h2 class=article-title>Integration tests without API dependencies with ASP.NET Core and WireMock.Net</h2><footer class=article-time><time datetime=2022-09-25T08:00:00-03:00>25 Sep 2022</time></footer></div><div class=article-image><img src=/p/integration-tests-without-api-dependencies-with-asp.net-core-and-wiremock.net/cover.jpg width=800 height=534 alt="Integration tests without API dependencies with ASP.NET Core and WireMock.Net" loading=lazy></div></a></article><article><a href=/p/dont-box-your-logs/ class=umami--click--related-side-dont-box-your-logs-><div class=article-details><h2 class=article-title>Don't box your logs</h2><footer class=article-time><time datetime=2023-01-02T07:00:00-03:00>02 Jan 2023</time></footer></div><div class=article-image><img src=/p/dont-box-your-logs/cover.jpg width=800 height=600 alt="Don't box your logs" loading=lazy></div></a></article><article><a href=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/ class=umami--click--related-side-dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets-><div class=article-details><h2 class=article-title>.NET and AWS S3 with LocalStack: How to develop with local S3 buckets</h2><footer class=article-time><time datetime=2023-02-13T07:30:00-03:00>13 Feb 2023</time></footer></div><div class=article-image><img src=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/cover.jpg width=1000 height=621 alt=".NET and AWS S3 with LocalStack: How to develop with local S3 buckets" loading=lazy></div></a></article></div></section><section class="widget archives"><h2 class="widget-title section-title">Recent posts</h2><div class=article-list--mini><article><a href=/p/why-my-wiremock-mocks-arent-working/ class=umami--click--recentposts-why-my-wiremock-mocks-arent-working-><div class=article-details><h2 class=article-title>Why my WireMock mocks aren't working?</h2><footer class=article-time><time datetime=2023-04-11T08:00:00-03:00>11 Apr 2023</time></footer></div><div class=article-image><img src=/p/why-my-wiremock-mocks-arent-working/cover.jpg width=800 height=533 alt="Why my WireMock mocks aren't working?" loading=lazy></div></a></article><article><a href=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/ class=umami--click--recentposts-dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets-><div class=article-details><h2 class=article-title>.NET and AWS S3 with LocalStack: How to develop with local S3 buckets</h2><footer class=article-time><time datetime=2023-02-13T07:30:00-03:00>13 Feb 2023</time></footer></div><div class=article-image><img src=/p/dotnet-and-aws-s3-with-localstack-how-to-develop-with-local-s3-buckets/cover.jpg width=1000 height=621 alt=".NET and AWS S3 with LocalStack: How to develop with local S3 buckets" loading=lazy></div></a></article><article><a href=/p/how-to-use-c-sharp-11-features-in-dotnet-6-or-older-versions/ class=umami--click--recentposts-how-to-use-c-sharp-11-features-in-dotnet-6-or-older-versions-><div class=article-details><h2 class=article-title>How to use C# 11 features in .NET 6 or older versions (even .NET Framework 2.0)</h2><footer class=article-time><time datetime=2023-02-06T07:30:00-03:00>06 Feb 2023</time></footer></div><div class=article-image><img src=/p/how-to-use-c-sharp-11-features-in-dotnet-6-or-older-versions/cover.jpg width=1000 height=600 alt="How to use C# 11 features in .NET 6 or older versions (even .NET Framework 2.0)" loading=lazy></div></a></article><article><a href=/p/compile-time-null-safety-how-to-avoid-nullreferenceexception-in-c/ class=umami--click--recentposts-compile-time-null-safety-how-to-avoid-nullreferenceexception-in-c-><div class=article-details><h2 class=article-title>Compile-time null safety: How to avoid NullReferenceException in C#</h2><footer class=article-time><time datetime=2023-01-30T07:45:00-03:00>30 Jan 2023</time></footer></div><div class=article-image><img src=/p/compile-time-null-safety-how-to-avoid-nullreferenceexception-in-c/cover.jpg width=1000 height=680 alt="Compile-time null safety: How to avoid NullReferenceException in C#" loading=lazy></div></a></article><article><a href=/p/improve-your-coding-experience-more-10-vs-code-extensions-to-try/ class=umami--click--recentposts-improve-your-coding-experience-more-10-vs-code-extensions-to-try-><div class=article-details><h2 class=article-title>Improve your coding experience: More 10 VS Code extensions to try</h2><footer class=article-time><time datetime=2023-01-17T06:10:00-03:00>17 Jan 2023</time></footer></div><div class=article-image><img src=/p/improve-your-coding-experience-more-10-vs-code-extensions-to-try/cover.jpg width=1000 height=667 alt="Improve your coding experience: More 10 VS Code extensions to try" loading=lazy></div></a></article></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script src=https://storage.ko-fi.com/cdn/scripts/overlay-widget.js></script>
<script>kofiWidgetOverlay.draw("genezini",{type:"floating-chat","floating-chat.donateButton.text":"Support me","floating-chat.donateButton.background-color":"#d9534f","floating-chat.donateButton.text-color":"#fff"})</script></body></html>